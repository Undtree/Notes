
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>期末复习 - Undertree's 小站</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../css/timeline.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/card.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Undertree&#39;s 小站" class="md-header__button md-logo" aria-label="Undertree's 小站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Undertree's 小站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              期末复习
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至跟随系统"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至跟随系统" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Undtree/Notes/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Undtree/Notes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../DBS/" class="md-tabs__link">
          
  
  
    
  
  计算机科学相关

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  网络相关

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Crypto/" class="md-tabs__link">
          
  
  
    
  
  安全

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Undertree&#39;s 小站" class="md-nav__button md-logo" aria-label="Undertree's 小站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>

    </a>
    Undertree's 小站
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Undtree/Notes/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Undtree/Notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    主页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    计算机科学相关
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            计算机科学相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DBS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据库系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../TOC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算理论
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    网络相关
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            网络相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    安全
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            安全
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Crypto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    密码学
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      第一章：引言
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      第二章：物理层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第二章：物理层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      数据通信的理论基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据通信的理论基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-vs-symbol-rate-vs-data-rate-slide-18" class="md-nav__link">
    <span class="md-ellipsis">
      1. 码元速率 vs 数据速率 (Symbol rate vs. Data rate) (Slide 18)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-nyquist-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      2. 奈奎斯特定理 (Nyquist Theorem)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-shannon-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      3. 香农定理 (Shannon Theorem)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      传输介质
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#digital-modulation-and-multiplexing" class="md-nav__link">
    <span class="md-ellipsis">
      数字调制与复用 (Digital Modulation and Multiplexing)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数字调制与复用 (Digital Modulation and Multiplexing)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 传输方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-multiplexing" class="md-nav__link">
    <span class="md-ellipsis">
      2. 复用技术 (Multiplexing)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pstn" class="md-nav__link">
    <span class="md-ellipsis">
      公用交换电话网络 (PSTN)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="公用交换电话网络 (PSTN)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-local-loop" class="md-nav__link">
    <span class="md-ellipsis">
      1. 本地回路 (Local loop)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-trunks" class="md-nav__link">
    <span class="md-ellipsis">
      2. 干线 (Trunks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-switching" class="md-nav__link">
    <span class="md-ellipsis">
      3. 交换技术对比 (Switching)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      第三章：数据链路层
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac-sublayer" class="md-nav__link">
    <span class="md-ellipsis">
      第四章：介质访问控制子层 (MAC Sublayer)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      第五章：网络层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第五章：网络层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      网络层设计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      路由算法 (Routing Algorithms)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="路由算法 (Routing Algorithms)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 路由模式分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 主要单播路由算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 广播与组播路由
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internetworking" class="md-nav__link">
    <span class="md-ellipsis">
      网络互连 (Internetworking)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdn" class="md-nav__link">
    <span class="md-ellipsis">
      软件定义网络 (SDN)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      互联网中的网络层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="互联网中的网络层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-ipv4" class="md-nav__link">
    <span class="md-ellipsis">
      1. IPv4 协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-ip" class="md-nav__link">
    <span class="md-ellipsis">
      2. IP 地址规划
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-nat-network-address-translation" class="md-nav__link">
    <span class="md-ellipsis">
      3. NAT (Network Address Translation)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-ipv6" class="md-nav__link">
    <span class="md-ellipsis">
      4. IPv6 协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 互联网控制协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-routing-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      6. 互联网路由协议 (Routing Protocols)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intra-as-vs-inter-as" class="md-nav__link">
    <span class="md-ellipsis">
      Intra-AS vs Inter-AS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      第六章：传输层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第六章：传输层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#berkeley-sockets" class="md-nav__link">
    <span class="md-ellipsis">
      传输层服务接口：Berkeley Sockets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      传输协议要素
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      UDP: 用户数据报协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      TCP: 传输控制协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TCP: 传输控制协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      (1) 服务模型与特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-tcp" class="md-nav__link">
    <span class="md-ellipsis">
      (2) TCP 首部字段
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_1" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 连接管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-jacobson" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 计时器管理：Jacobson 算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_2" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 拥塞控制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TCP 拥塞控制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      两个共同的基础阶段
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      丢包处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      改变发送速率的数学公式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      第七章：应用层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第七章：应用层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      DNS (域名系统)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      电子邮件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#www" class="md-nav__link">
    <span class="md-ellipsis">
      WWW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HTTP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-http" class="md-nav__link">
    <span class="md-ellipsis">
      (1) HTTP 方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      (2) 状态码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-http" class="md-nav__link">
    <span class="md-ellipsis">
      (3) HTTP 版本的演进
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  


  
  


<h1 id="_1">期末复习<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 6968 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 12 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 23 分钟</p>
</div>
<blockquote>
<p><del>孩子们，这门课真的不能速通...</del></p>
</blockquote>
<hr />
<h2 id="_2">第一章：引言<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>网络模型</strong>：<ul>
<li><strong>C/S 模式</strong>：客户端/服务器模式。</li>
<li><strong>P2P 模式</strong>：对等网络模式。</li>
</ul>
</li>
<li><strong>网络硬件分类</strong>：<ul>
<li>按传输技术：广播式网络、点对点网络。</li>
<li>按规模： PAN (蓝牙， RFID)、LAN (以太网/WiFi)、MAN (有线电视)、WAN (由主机和子网组成，子网由传输线和交换设备组成)、互联网络 (Inter-networks)。</li>
</ul>
</li>
<li><strong>网络软件</strong>：<ul>
<li><strong>协议 (Protocol)</strong>：通信双方关于如何通信的协议，定义了报文格式和意义。</li>
<li><strong>服务 (Service)</strong>：层与层之间的接口，下层为上层提供的原语操作。</li>
</ul>
</li>
<li><strong>参考模型</strong>：<ul>
<li><strong>OSI (Open Systems Interconnection) 模型</strong>： 7 层（物理、数据链路、网络、传输、会话、表示、应用）。</li>
<li><strong>TCP/IP 模型</strong>： 4 层（主机-网络、互联、传输、应用）。</li>
</ul>
<div class="admonition note">
<p class="admonition-title">OSI 和 TCP/IP 参考模型的不同</p>
<ul>
<li>服务/接口/协议<ul>
<li>OSI 对这三个核心概念加以明确区分； TCP/IP 则没有清晰划分。</li>
</ul>
</li>
<li>设计方法<ul>
<li>OSI 模型优先； TCP/IP 协议优先。</li>
</ul>
</li>
<li>层数不同。</li>
<li>面向连接 vs 无连接<ul>
<li>OSI 认为“网络应该尽力提供完美的连接”，所以网络层支持面向连接和无连接两种方式，传输层是面向连接的； TCP/IP 认为网络内部应该尽可能简单，复杂的逻辑应该放在网络边缘的设备上，所以网络层是无连接的，传输层支持面向连接和无连接两种方式。</li>
</ul>
</li>
</ul>
</div>
<ul>
<li>我们使用五层模型（物理、数据链路、网络、传输、应用）。</li>
</ul>
</li>
<li>网络的例子：<ul>
<li>因特网（从 1969 年 12 月发明的 APARNET 发源）；</li>
<li>无线局域网： 802.11.</li>
</ul>
</li>
<li><strong>网络标准相关</strong>：<ul>
<li>ITU ，国际电信联盟</li>
<li>ISO ，国际标准化组织</li>
<li>IEEE ，电气与电子工程师协会；主要负责 LAN 和 MAN 标准</li>
<li>IAB ，互联网架构委员会<ul>
<li>IAB 有两个主要分支： IRTF + IETF （研究、工程）</li>
<li>RFC 是 IETF 发布的所有互联网正式标准的文件形式。</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="_3">第二章：物理层<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<div class="admonition abstact">
<p class="admonition-title">要点速览</p>
<ul>
<li>理论基础</li>
<li>传输介质</li>
<li>数字调制 (Modulation) 与复用 (Multiplexing)</li>
<li>公共交换电话网络， PSTN</li>
</ul>
</div>
<h3 id="_4">数据通信的理论基础<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h4 id="1-vs-symbol-rate-vs-data-rate-slide-18">1. 码元速率 vs 数据速率 (Symbol rate vs. Data rate) <em>(Slide 18)</em><a class="headerlink" href="#1-vs-symbol-rate-vs-data-rate-slide-18" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>码元速率 (Symbol Rate / Baud Rate):</strong> 信号每秒变化的次数（波特率）。</li>
<li><strong>数据速率 (Data Rate / Bit Rate):</strong> 每秒传输的比特数 (bps)。</li>
<li><strong>关系公式:</strong> <span class="arithmatex">\(\text{Data Rate} = \text{Symbol Rate} \times \text{Bits per Symbol}\)</span></li>
<li>例如，<ul>
<li>QAM/多电平: 如果使用 8 个离散电压电平， 1 个码元可以代表 <span class="arithmatex">\(\log_2 8 = 3\)</span> 个比特。此时 Data Rate = 3 * Symbol Rate。</li>
<li>曼彻斯特编码 (Manchester): 使用电压跳变（高变低或低变高）来表示 1 或 0。需要 2 个码元（半个周期高，半个周期低）来表示 1 个比特。此时 Data Rate = 1/2 * Symbol Rate。</li>
</ul>
</li>
</ul>
<h4 id="2-nyquist-theorem">2. 奈奎斯特定理 (Nyquist Theorem)<a class="headerlink" href="#2-nyquist-theorem" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>适用场景:</strong> 理想的、<strong>无噪声</strong> 信道。</li>
<li><strong>公式:</strong><ul>
<li>最大数据速率 <span class="arithmatex">\(B = 2H \log_2 V\)</span> (bits/sec)， H 为带宽， V 为离散电平数。</li>
<li>最大码元速率 <span class="arithmatex">\(S = 2H\)</span></li>
</ul>
</li>
</ul>
<h4 id="3-shannon-theorem">3. 香农定理 (Shannon Theorem)<a class="headerlink" href="#3-shannon-theorem" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>适用场景:</strong> 带有<strong>随机噪声（高斯白噪声是最普遍的噪声模型）</strong> 的信道。</li>
<li><strong>公式:</strong> 最大数据速率 <span class="arithmatex">\(B = H \log_2 (1 + S/N)\)</span> (bits/sec)</li>
<li><strong>信噪比 (SNR):</strong> 公式中的 <span class="arithmatex">\(S/N\)</span> 是比值，但通常题目给出的是分贝 (dB)。<ul>
<li>换算公式: <span class="arithmatex">\(\text{dB} = 10 \log_{10} (S/N)\)</span></li>
<li>例子: 20dB 意味着 <span class="arithmatex">\(S/N = 100\)</span>； 30dB 意味着 <span class="arithmatex">\(S/N = 1000\)</span>。<strong>计算时一定要先将 dB 换算成比值代入公式。</strong></li>
</ul>
</li>
</ul>
<h3 id="_5">传输介质<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>有线传输 (Guided):</strong><ul>
<li>磁介质、双绞线 (Twisted pair)、同轴电缆 (Coaxial cable)、电力线、<strong>光纤 (Fiber optics)</strong>。</li>
</ul>
</li>
<li>
<p><strong>无线传输 (Wireless):</strong></p>
<ul>
<li>无线电 (Radio)、微波 (Microwave)、红外与毫米波、光波传输。</li>
</ul>
<p><img alt="freq-of-waves" src="/Notes/images/Network/freq.png" style="display: block; margin: 0 auto;" width="600" /></p>
</li>
</ul>
<h3 id="digital-modulation-and-multiplexing">数字调制与复用 (Digital Modulation and Multiplexing)<a class="headerlink" href="#digital-modulation-and-multiplexing" title="Permanent link">&para;</a></h3>
<h4 id="1">1. 传输方式<a class="headerlink" href="#1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>基带传输:</strong><ul>
<li>信号占用从 0 到最大值的频率。</li>
<li><strong>编码方式 (Slide 24):</strong><ul>
<li><strong>NRZ (不归零):</strong> 高电平 1 ，低电平 0。</li>
<li><strong>NRZI (倒不归零):</strong> 遇到 1 翻转，遇到 0 保持。</li>
<li><strong>Manchester (曼彻斯特):</strong> 每一位中间都有跳变。1 是高到低， 0 是低到高（或反之）。用于时钟同步。</li>
<li><strong>AMI (双极性):</strong> 0 不跳变， 1 交替为正负电压。</li>
</ul>
</li>
</ul>
</li>
<li><strong>通带传输:</strong><ul>
<li>信号占用载波频率周围的一段频带。</li>
<li><strong>调制方式:</strong> 调节振幅、频率、相位。</li>
<li><strong>星座图 (Constellation diagrams, Slide 26):</strong><ul>
<li><strong>QPSK:</strong> 4 个点，每个点 2 bit。</li>
<li><strong>QAM-16:</strong> 16 个点，每个点 4 bit。</li>
<li><strong>QAM-64:</strong> 64 个点，每个点 6 bit。</li>
<li>点越多，传输速率越高，但抗干扰能力越差。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-multiplexing">2. 复用技术 (Multiplexing)<a class="headerlink" href="#2-multiplexing" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>FDM (频分复用):</strong> 分割频率。</li>
<li><strong>TDM (时分复用):</strong> 分割时间片。</li>
<li><strong>WDM (波分复用):</strong> 在光纤上使用不同波长的光（本质是高频 FDM ）。</li>
<li><strong>CDM (码分复用 / CDMA):</strong><ul>
<li><strong>原理:</strong> 每个站点被分配唯一的<strong>码片序列 (Chip sequence)</strong>。</li>
<li><strong>正交性 (Orthogonal):</strong> 任意两个不同站点的码片序列向量的点积为 0 (<span class="arithmatex">\(S \cdot T = 0\)</span>)，自己的点积为 1 (<span class="arithmatex">\(S \cdot S = 1\)</span>)。</li>
<li><strong>发送:</strong> 发送 1 发码片序列 <span class="arithmatex">\(S\)</span>，发送 0 发反码片序列 <span class="arithmatex">\(\bar{S}\)</span> (即 <span class="arithmatex">\(-S\)</span>)。</li>
<li><strong>接收 (Recovery):</strong> 将接收到的叠加信号与目标站点的码片序列做<strong>内积</strong>。<ul>
<li>结果为 +1: 发送了比特 1。</li>
<li>结果为 -1: 发送了比特 0。</li>
<li>结果为 0: 该站点未发送数据。</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">例子</p>
<p><img alt="CDM-Eg" src="/Notes/images/Network/CDM-Eg.png" style="display: block; margin: 0 auto;" width="600" /></p>
</div>
<h3 id="pstn">公用交换电话网络 (PSTN)<a class="headerlink" href="#pstn" title="Permanent link">&para;</a></h3>
<p>PSTN 包含三个部分：本地回路 (Local loops)、干线 (Trunks)、交换局 (Switching offices)。</p>
<h4 id="1-local-loop">1. 本地回路 (Local loop)<a class="headerlink" href="#1-local-loop" title="Permanent link">&para;</a></h4>
<ul>
<li>连接用户到交换局。</li>
<li><strong>技术演进:</strong> 拨号调制解调器 (Modem) -&gt; <strong>xDSL (数字用户线)</strong>。</li>
<li><strong>ADSL (非对称 DSL):</strong><ul>
<li>带宽非对称（下载 &gt; 上传）。</li>
<li><strong>原理:</strong> 使用 <strong>离散多音频调制 (Discrete Multitone Modulation)</strong>。将带宽分割成许多个 4kHz 的子信道（ Slide 30 图示），本质上是 FDM。</li>
</ul>
</li>
</ul>
<h4 id="2-trunks">2. 干线 (Trunks)<a class="headerlink" href="#2-trunks" title="Permanent link">&para;</a></h4>
<ul>
<li>连接交换局之间，使用复用技术 (FDM 或 TDM)。</li>
<li><strong>T1 Carrier (T1 载波):</strong><ul>
<li>使用 <strong>TDM</strong> (时分复用)。</li>
<li><strong>容量:</strong> 复用 <strong>24</strong> 个语音信道。</li>
<li><strong>帧结构:</strong> <ul>
<li>每个信道采样 8 bit (7 data + 1 control)。</li>
<li>一帧 = 24 * 8 + 1 (framing bit) = <strong>193 bits</strong>。</li>
<li>采样率 8000 次/秒。</li>
</ul>
</li>
<li><strong>总速率:</strong> <span class="arithmatex">\(193 \text{ bits} \times 8000/\text{sec} \approx \textbf{1.544 Mbps}\)</span>。</li>
</ul>
</li>
</ul>
<h4 id="3-switching">3. 交换技术对比 (Switching)<a class="headerlink" href="#3-switching" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>电路交换 (Circuit-switched):</strong> (如传统电话)<ul>
<li>需要建立连接 (Call setup)。</li>
<li>物理路径独占，带宽固定。</li>
<li>资源浪费 (Wasted bandwidth) 如果不传输数据。</li>
</ul>
</li>
<li><strong>分组交换 (Packet-switched):</strong> (如 Internet)<ul>
<li>不需要建立连接。</li>
<li>没有独占路径，带宽动态分配。</li>
<li>存在排队延迟，可能发生拥塞。</li>
</ul>
</li>
</ul>
<hr />
<h2 id="_6">第三章：数据链路层<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>功能</strong>：成帧 (Framing)、差错控制、流量控制。</li>
<li><strong>成帧方法</strong>：字节计数法、带字节填充的定界符法、带比特填充的定界符法（例如 <code>01111110</code>，逢 5 个 1 填 0 ）、物理层编码违例法。</li>
<li><strong>差错控制</strong>：<ul>
<li><strong>海明距离</strong>：两个码字之间不同位的个数。</li>
<li><strong>检错/纠错能力</strong>：<strong>检测</strong> <span class="arithmatex">\(d\)</span> 个错误需要距离 <span class="arithmatex">\(d+1\)</span>；<strong>纠正</strong> <span class="arithmatex">\(d\)</span> 个错误需要 <span class="arithmatex">\(2d+1\)</span>。</li>
<li><strong>校验方式</strong>：奇偶校验、校验和 (Checksum)、<strong>CRC (循环冗余校验)</strong>（基于多项式模 2 除法，加减法等同于异或）。</li>
</ul>
</li>
<li>
<p><strong>流量控制 (滑动窗口)</strong>：</p>
<ul>
<li><strong>停止-等待协议</strong>：利用率 <span class="arithmatex">\(U = 1 / (2\alpha + 1)\)</span>，其中 <span class="arithmatex">\(\alpha = T_{prop} / T_{frame}\)</span>。</li>
</ul>
<p><img alt="stop-and-wait" src="/Notes/images/Network/stop-and-wait.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>滑动窗口协议</strong>： GBN (回退 N 帧)、SR (选择重传)。窗口大小需满足：<span class="arithmatex">\(发送窗口 + 接收窗口 \le 2^n\)</span>。</li>
<li><strong>PPP 协议</strong>：点对点协议。包含 LCP (链路控制) 和 NCP (网络控制)。</li>
</ul>
</li>
</ul>
<hr />
<h2 id="mac-sublayer">第四章：介质访问控制子层 (MAC Sublayer)<a class="headerlink" href="#mac-sublayer" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>信道分配协议</strong>：<ul>
<li><strong>ALOHA</strong>：纯 ALOHA (吞吐量 <span class="arithmatex">\(S=G e^{-2G}\)</span>)、分隙 ALOHA (<span class="arithmatex">\(S=G e^{-G}\)</span>)。</li>
<li><strong>CSMA (载波侦听多路访问)</strong>： 1-坚持、非坚持、p-坚持。</li>
<li><strong>CSMA/CD</strong>：带冲突检测。检测冲突最长时间为 <span class="arithmatex">\(2\tau\)</span>（两倍传播时延）。</li>
<li><strong>无冲突协议</strong>：位图协议、令牌环、二进制倒数协议。</li>
</ul>
</li>
<li><strong>无线局域网 (802.11)</strong>：<ul>
<li><strong>问题</strong>：隐藏终端问题、暴露终端问题。</li>
<li><strong>解决</strong>： CSMA/CA (带冲突避免)，使用 RTS/CTS 握手及 NAV (虚拟侦听)。</li>
</ul>
</li>
<li><strong>冲突避免协议</strong>：<ul>
<li>位图 (Bitmap) / 令牌 (Token passing) / 二进制倒数 (Binary count down)</li>
</ul>
</li>
<li><strong>以太网 (802.3)</strong>：<ul>
<li><strong>二进制指数退避算法</strong>：第 <span class="arithmatex">\(i\)</span> 次冲突后，随机等待 <span class="arithmatex">\(0 \sim 2^i-1\)</span> 个时隙。</li>
<li><strong>设备</strong>：集线器 (Hub) 属于一层，交换机 (Switch) 属于二层。冲突域 vs 广播域。</li>
</ul>
</li>
</ul>
<hr />
<h2 id="_7">第五章：网络层<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="_8">网络层设计<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>网络层向传输层提供两种类型的服务：</p>
<ol>
<li><strong>无连接服务 (Connectionless Service - Datagrams):</strong><ul>
<li><strong>机制：</strong> 每个数据包被独立路由。路由器不需要保留连接状态。</li>
<li><strong>实现：</strong> 路由器根据目标地址查找路由表，决定下一跳。</li>
<li><strong>特点：</strong> 鲁棒性强（某个路由器坏了，数据包可以走别的路），不需要建立连接 (Call setup)。</li>
<li><strong>典型代表：</strong> IP 协议。</li>
</ul>
</li>
<li><strong>面向连接服务 (Connection-oriented Service - Virtual Circuits):</strong><ul>
<li><strong>机制：</strong> 在数据传输前必须建立连接（虚电路），所有数据包沿着同一条路径传输。</li>
<li><strong>实现：</strong> 使用标签交换（ Label Switching ）。路由表维护 (Input Port, Input Label) -&gt; (Output Port, Output Label) 的映射。</li>
<li><strong>特点：</strong> 需要建立连接，保证顺序，资源预留（如 ATM 网络）。</li>
</ul>
</li>
</ol>
<h3 id="routing-algorithms">路由算法 (Routing Algorithms)<a class="headerlink" href="#routing-algorithms" title="Permanent link">&para;</a></h3>
<h4 id="1_1">1. 路由模式分类<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Unicast (单播):</strong> 点对点 (One-to-one)。</li>
<li><strong>Broadcast (广播):</strong> 一对所有 (One-to-all)。</li>
<li><strong>Multicast (组播):</strong> 一对多 (One-to-many)。</li>
<li><strong>Anycast (任播):</strong> 一对最近的一个 (One-to-any)。</li>
</ul>
<h4 id="2">2. 主要单播路由算法<a class="headerlink" href="#2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>距离矢量路由 (Distance Vector - DV / Bellman-Ford):</strong><ul>
<li><strong>原理：</strong> 每个路由器维护一张表，记录到<strong>所有</strong>目的地的<strong>距离</strong>和<strong>下一跳</strong>。</li>
<li><strong>更新机制：</strong> 周期性地与<strong>邻居</strong>交换自己的路由表。公式：<span class="arithmatex">\(D_x(y) = min\{c(x,v) + D_v(y)\}\)</span>。</li>
<li><strong>缺点：</strong> 收敛慢 (Slow convergence)，存在“计数到无穷”问题。早期的度量标准是队列长度，但这忽略了带宽。</li>
</ul>
</li>
<li>
<p><strong>链路状态路由 (Link State - LS / Dijkstra):</strong></p>
<ol>
<li>发现邻居节点及其网络地址。</li>
<li>测量到邻居的开销（ Cost/Metric ）。</li>
<li>构造链路状态包（ LSP ）。</li>
<li>将 LSP <strong>广播（ Flooding ）</strong> 到全网，使每个路由器拥有完整的网络拓扑图。</li>
<li>使用 Dijkstra 算法计算到每个节点的最短路径。</li>
</ol>
<p><strong>对比 DV ：</strong> LS 收敛快，更健壮，但通过广播交换信息，消息量较大。</p>
</li>
</ul>
<p><img alt="Comp-LS-DV" src="/Notes/images/Network/Comp-LS-DV.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>分层路由 (Hierarchical Routing):</strong><ul>
<li><strong>目的：</strong> 解决网络规模过大导致路由表过于庞大的问题。</li>
<li><strong>方法：</strong> 将网络划分为区域（ Regions ），路由器只知道本区域内的细节，去往其他区域的数据包只需知道通向该区域的路径，从而缩减路由表。</li>
</ul>
</li>
</ul>
<h4 id="3">3. 广播与组播路由<a class="headerlink" href="#3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>广播 (Broadcasting):</strong><ul>
<li><strong>Flooding (泛洪):</strong> 简单但浪费带宽。</li>
<li><strong>Reverse Path Forwarding (RPF):</strong> 只有当数据包从到达源节点的“最短路径”对应的接口到来时，才转发。</li>
<li><strong>Spanning Tree (生成树):</strong> 最佳方案（ Optimal ），沿着生成树发送，无环路且覆盖所有点。</li>
</ul>
</li>
<li><strong>组播 (Multicasting):</strong><ul>
<li>基于生成树，但会进行<strong>修剪 (Pruning)</strong>。如果是没有组成员的分支，就不转发数据。</li>
</ul>
</li>
</ul>
<h3 id="internetworking">网络互连 (Internetworking)<a class="headerlink" href="#internetworking" title="Permanent link">&para;</a></h3>
<p>当不同的网络（异构网络，如以太网、802.11、MPLS 等）连接在一起时，需要解决兼容性问题。</p>
<ol>
<li><strong>多协议路由器:</strong> 在网络层和链路层进行协议转换和处理 <em>(Slide 90)</em>。</li>
<li><strong>隧道技术 (Tunneling):</strong> <em>(Slide 91)</em><ul>
<li><strong>场景：</strong> 两个相同类型的网络（如 IPv6 ）通过一个异构网络（如 IPv4 ）通信。</li>
<li><strong>方法：</strong> 将整个数据包（ IPv6 ）封装在另一个协议（ IPv4 ）的载荷中传输。</li>
</ul>
</li>
<li><strong>分片 (Fragmentation):</strong> <em>(Slide 93-94)</em><ul>
<li><strong>原因：</strong> 不同网络有不同的最大传输单元（ MTU ）。</li>
<li><strong>策略：</strong><ul>
<li>透明分片：分片后在出口重组（对端无感知，但路由器压力大）。</li>
<li>非透明分片：分片后由最终目的地主机重组（ IP 采用此方式）。</li>
</ul>
</li>
<li><strong>现代策略：</strong> <strong>路径 MTU 发现 (Path MTU Discovery)</strong>。源主机先试探路径上最小的 MTU ，发送合适大小的包，避免分片。</li>
</ul>
</li>
</ol>
<h3 id="sdn">软件定义网络 (SDN)<a class="headerlink" href="#sdn" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>核心思想：</strong> 将<strong>控制平面 (Control Plane)</strong> 与 <strong>数据平面 (Data Plane)</strong> 分离。</li>
<li><strong>架构：</strong><ul>
<li><strong>数据平面：</strong> 交换机/路由器，只负责根据流表 (Flow Table) 转发数据。</li>
<li><strong>控制平面：</strong> 远程控制器，负责计算路由、生成流表并下发给交换机。</li>
<li><strong>接口：</strong> 北向接口 (Northbound API) 面向应用；南向接口 (Southbound API) 面向设备 (如 OpenFlow)。</li>
</ul>
</li>
</ul>
<h3 id="_9">互联网中的网络层<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<h4 id="1-ipv4">1. IPv4 协议<a class="headerlink" href="#1-ipv4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>头部格式 (Header Format):</strong> <em>(Slide 98-105)</em><ul>
<li><strong>Version:</strong> 版本号 (4)。</li>
<li><strong>IHL:</strong> 头部长度 (单位是 32-bit words ，最小值为 5 ，即 20 字节)。</li>
<li><strong>Differentiated Services (DiffServ):</strong> 服务类型，用于 QoS （以前叫 Type of Service ）。</li>
<li><strong>Total Length:</strong> 头部+数据的总长度（最大 65,535 字节）。</li>
<li><strong>分片相关字段:</strong><ul>
<li><strong>Identification:</strong> 标识属于同一个数据包的分片。</li>
<li><strong>DF (Don't Fragment):</strong> 禁止分片位。</li>
<li><strong>MF (More Fragments):</strong> 还有后续分片。</li>
<li><strong>Fragment Offset:</strong> 偏移量（单位是 8 字节）。</li>
</ul>
</li>
<li><strong>TTL (Time to Live):</strong> 生存时间，防止死循环，每经过一跳减 1。</li>
<li><strong>Protocol:</strong> 上层协议（如 TCP=6, UDP=17 ）。</li>
<li><strong>Header Checksum:</strong> 首部校验和（每跳都要重新计算，因为 TTL 变了）。</li>
<li><strong>Source/Destination Address:</strong> 32 位源/目的 IP 地址。</li>
</ul>
</li>
</ul>
<h4 id="2-ip">2. IP 地址规划<a class="headerlink" href="#2-ip" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>CIDR (无类别域间路由):</strong><ul>
<li><strong>格式：</strong> A.B.C.D/n (例如 192.24.0.0/19)， n 表示前缀长度（网络号）。</li>
<li><strong>最长前缀匹配 (Longest Matching Prefix):</strong> 路由器在转发表中查找时，如果一个 IP 匹配多个表项，选择掩码最长（最具体）的那一个。</li>
<li><strong>路由聚合 (Aggregation):</strong> 将多个小的前缀合并为一个大的前缀通告，减少路由表条目（如 Slide 109 纽约路由器的例子）。</li>
</ul>
</li>
<li><strong>分类地址 (Classful - 已过时):</strong> A 类、B 类、C 类、D 类（组播）、E 类。</li>
<li><strong>特殊地址:</strong><ul>
<li>127.x.x.x (Loopback, 本地回环)。</li>
<li>全 0 主机号：代表网络本身。</li>
<li>全 1 主机号：代表该网络的广播地址。</li>
</ul>
</li>
<li><strong>私有地址 (Private IPs):</strong><ul>
<li>10.0.0.0/8</li>
<li>172.16.0.0/12</li>
<li>192.168.0.0/16</li>
<li>这些地址不能在公网上路由，通常配合 <strong>NAT (网络地址转换)</strong> 使用。</li>
</ul>
</li>
</ul>
<h4 id="3-nat-network-address-translation">3. NAT (Network Address Translation)<a class="headerlink" href="#3-nat-network-address-translation" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>作用：</strong> 解决 IPv4 地址短缺。</li>
<li><strong>原理：</strong> 路由器维护一张转换表，将 (内网 IP, 内网端口) 映射为 (公网 IP, 新端口)。</li>
<li><strong>过程：</strong> 出去时替换源 IP/端口，回来时替换目的 IP/端口。</li>
</ul>
<h4 id="4-ipv6">4. IPv6 协议<a class="headerlink" href="#4-ipv6" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>改进：</strong> 128 位地址，固定 40 字节头部（处理更快）。</li>
<li><strong>移除字段：</strong> 取消了 Checksum （由链路层和传输层负责），取消了分片字段（由源端负责分片）。</li>
<li><strong>新字段：</strong> Flow Label （流标签，用于 QoS ）。</li>
<li><strong>扩展头部 (Extension Headers):</strong> 选项信息放在扩展头中，由 <code>Next Header</code> 字段指示。</li>
</ul>
<h4 id="5">5. 互联网控制协议<a class="headerlink" href="#5" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>ICMP (Internet Control Message Protocol):</strong><ul>
<li>用于报告错误和网络探测。</li>
<li>常见类型： Destination Unreachable （不可达）、Time Exceeded （ TTL 耗尽， Traceroute 利用此原理）、Echo Request/Reply （ Ping ）。</li>
</ul>
</li>
<li><strong>ARP (Address Resolution Protocol):</strong><ul>
<li>作用：已知 IP 地址，解析对应的 MAC 地址。</li>
<li>工作在局域网内。</li>
</ul>
</li>
<li><strong>DHCP (Dynamic Host Configuration Protocol):</strong><ul>
<li>作用：动态分配 IP 地址、网关、DNS 等配置。</li>
<li>前身是 RARP 和 BOOTP。</li>
</ul>
</li>
</ul>
<h4 id="6-routing-protocols">6. 互联网路由协议 (Routing Protocols)<a class="headerlink" href="#6-routing-protocols" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>自治系统 (AS - Autonomous System):</strong> 一个管理实体下的网络集合（如一个 ISP ）。</li>
<li><strong>域内路由 (Interior Gateway Protocol - IGP):</strong> AS 内部使用。<ul>
<li><strong>RIP:</strong> 基于距离矢量 (DV)，简单。</li>
<li><strong>OSPF:</strong> 基于链路状态 (LS)。支持大规模网络，收敛快。<ul>
<li>OSPF 直接运行在 IP 之上。</li>
<li>使用泛洪 (Flooding) 传播链路状态。</li>
<li>使用 Dijkstra 计算路径。</li>
</ul>
</li>
</ul>
</li>
<li><strong>域间路由 (Exterior Gateway Protocol - EGP):</strong> AS 之间使用。<ul>
<li><strong>BGP (Border Gateway Protocol):</strong> <ul>
<li>基于 <strong>路径矢量 (Path Vector)</strong> (类似 DV ，但传播的是完整路径，防止环路)。</li>
<li>核心关注点是 <strong>策略 (Policy)</strong> 和 <strong>政治 (Politics)</strong>，而不仅仅是性能。</li>
<li>路由器之间通过 TCP 连接交换路由信息。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="intra-as-vs-inter-as">Intra-AS vs Inter-AS<a class="headerlink" href="#intra-as-vs-inter-as" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Intra-AS (如 OSPF):</strong> 关注<strong>性能</strong>，单一管理员，不需要复杂的策略。</li>
<li><strong>Inter-AS (如 BGP):</strong> 关注<strong>策略</strong>（谁能走我的网络），规模巨大（使用分层聚合），性能是次要的。</li>
</ul>
<hr />
<h2 id="_10">第六章：传输层<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<h3 id="berkeley-sockets">传输层服务接口： Berkeley Sockets<a class="headerlink" href="#berkeley-sockets" title="Permanent link">&para;</a></h3>
<p>这是应用程序与网络协议栈交互的门户，提供了 8 个核心<strong>原语 (Primitives)</strong>：
*   <strong>SOCKET</strong>：创建一个新的通信端点。
*   <strong>BIND</strong>：将一个本地地址（ IP+端口）与 socket 关联。
*   <strong>LISTEN</strong>：通告愿意接受连接，并设置等待队列的大小。
*   <strong>ACCEPT</strong>：被动接受一个进入的连接请求。
*   <strong>CONNECT</strong>：主动尝试建立一个连接（三次握手发起方）。
*   <strong>SEND</strong>：通过连接发送数据。
*   <strong>RECEIVE</strong>：从连接接收数据。
*   <strong>CLOSE</strong>：释放连接。</p>
<h3 id="_11">传输协议要素<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>这一部分对比了<strong>传输层</strong>与<strong>数据链路层</strong>的异同点。</p>
<ul>
<li><strong>相似性</strong>：都具备差错控制、排序（ Sequencing ）、流量控制等。</li>
<li><strong>核心区别 (Environment)</strong>：<ul>
<li><strong>链路层</strong>：两个节点通过<strong>物理信道</strong>直接通信（点到点）。</li>
<li><strong>传输层</strong>：通信跨越<strong>整个网络</strong>，环境更复杂（端到端）。</li>
<li>例如，链路层的校验和保护一个帧，而传输层校验和保护一个段；在滑动窗口协议中，对链路层来说，停止-等待协议通常是足够的，而传输层会用更大的窗口。</li>
</ul>
</li>
<li><strong>端到端论据 (End-to-End Argument)</strong>：<ul>
<li><strong>链路层校验</strong>：保护帧在单个链路上的传输，是非必需的，但对性能有价值（减少长距离重传）。</li>
<li><strong>传输层校验</strong>：保护段在整个路径上的完整性，是<strong>确保正确性的核心</strong>。</li>
</ul>
</li>
</ul>
<h3 id="udp">UDP: 用户数据报协议<a class="headerlink" href="#udp" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>特性</strong>：无连接、不可靠、不保证顺序、不提供流量和拥塞控制。</li>
<li><strong>首部结构 (8 字节)</strong>：<ul>
<li>源端口 - 16 bits</li>
<li>目的端口 - 16 bits</li>
<li>UDP 长度 - 16 bits</li>
<li>UDP 校验和 - 16 bits</li>
</ul>
</li>
<li><strong>应用场景</strong>： RTP （流媒体）、DNS （域名解析）、RIP （早期的路由协议）。</li>
</ul>
<h3 id="tcp">TCP: 传输控制协议<a class="headerlink" href="#tcp" title="Permanent link">&para;</a></h3>
<h4 id="1_2">(1) 服务模型与特性<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>全双工 (Full duplex)</strong> 且 <strong>点对点</strong>。</li>
<li><strong>字节流</strong>： TCP 不保留消息边界。例如：发送端写 4 个 512 字节，接收端可能通过一个 2048 字节的 READ 调用一次性读走。</li>
<li><strong>序号系统</strong>： TCP 连接中的每一个字节都有一个唯一的 <strong>32 位序号</strong>。</li>
</ul>
<h4 id="2-tcp">(2) TCP 首部字段<a class="headerlink" href="#2-tcp" title="Permanent link">&para;</a></h4>
<p><img alt="TCP-header" src="/Notes/images/Network/TCP-header.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>源/目的端口</strong>：标识端点，结合 IP 构成 48 位的唯一 Socket 标识。</li>
<li><strong>序号 (Seq)</strong> &amp; <strong>确认号 (Ack)</strong>：各 32 位。</li>
<li><strong>首部长度</strong>：指示首部有多少个 32 位字 (word)。</li>
<li><strong>Flags (标志位)</strong>：<ul>
<li><strong>CWR/ECE</strong>：拥塞通知相关。</li>
<li><strong>URG</strong>：紧急指针有效。</li>
<li><strong>ACK</strong>：确认号有效。</li>
<li><strong>PSH</strong>：请求立即推送数据。</li>
<li><strong>RST</strong>：重置混乱的连接。</li>
<li><strong>SYN</strong>：建立连接请求。</li>
<li><strong>FIN</strong>：释放连接请求。</li>
</ul>
</li>
<li><strong>窗口大小</strong>：流量控制的核心，告诉对方我还能收多少字节。</li>
<li><strong>校验和</strong></li>
<li><strong>紧急数据指针</strong>： URG = 1 时有效，表示紧急数据的末尾位置（相对于 Seq 号的偏移量）。紧急数据拥有优先交付应用层的权利。</li>
<li><strong>选项字段</strong></li>
</ul>
<h3 id="tcp_1">TCP 连接管理<a class="headerlink" href="#tcp_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>建立连接（三次握手）</strong>：<ol>
<li>Host 1 <span class="arithmatex">\(\rightarrow\)</span> Host 2: <code>SYN (SEQ=x)</code></li>
<li>Host 1 <span class="arithmatex">\(\leftarrow\)</span> Host 1: <code>SYN (SEQ=y), ACK=x+1</code></li>
<li>Host 1 <span class="arithmatex">\(\rightarrow\)</span> Host 2: <code>SEQ=x+1, ACK=y+1</code></li>
</ol>
</li>
<li><strong>连接释放（四次挥手）</strong>：<ul>
<li>涉及 <code>FIN</code> 和 <code>ACK</code> 的交互。一方发 FIN 表示数据发完了，进入半关闭状态，直到另一方也发 FIN。</li>
</ul>
</li>
<li><strong>状态转换</strong>：包括 <code>LISTEN</code>, <code>SYN_SENT</code>, <code>ESTABLISHED</code>, <code>FIN_WAIT_1</code>, <code>TIME_WAIT</code>（等待 2MSL 以确保包死掉）等。</li>
</ul>
<p><img alt="Conn-Manage" src="/Notes/images/Network/Conn-Manage.png" style="display: block; margin: 0 auto;" width="600" /></p>
<h3 id="tcp-jacobson">TCP 计时器管理： Jacobson 算法<a class="headerlink" href="#tcp-jacobson" title="Permanent link">&para;</a></h3>
<p>这是为了动态调整<strong>重传超时时间 (RTO)</strong>。</p>
<ul>
<li>
<p><strong>公式 1 ：平滑 RTT (SRTT)</strong></p>
<div class="arithmatex">\[\text{SRTT} = \alpha \cdot \text{SRTT} + (1 - \alpha) \cdot R\]</div>
<p>（其中 <span class="arithmatex">\(R\)</span> 是最近一次测得的样本值，一般取 <span class="arithmatex">\(\alpha=7/8\)</span>）</p>
</li>
<li>
<p><strong>公式 2 ： RTT 偏差 (RTTVAR)</strong></p>
<div class="arithmatex">\[\text{RTTVAR} = \beta \cdot \text{RTTVAR} + (1 - \beta) \cdot |\text{SRTT} - R|\]</div>
<p>（通常 <span class="arithmatex">\(\beta=3/4\)</span>）</p>
</li>
<li>
<p><strong>公式 3 ：重传超时 (RTO)</strong></p>
<div class="arithmatex">\[\text{RTO} = \text{SRTT} + 4 \cdot \text{RTTVAR}\]</div>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Question 1 - 序号计算</p>
<p>Suppose Host A sends two TCP segments back to back to Host B over a TCP connection. The first segment has sequence number 90; the second has sequence number 110.</p>
<p>1)   How much data is in the first segment?</p>
<p>2)   Suppose that the first segment is lost but the second segment arrives at B. In the acknowledgment that Host B sends to Host A, what will be the acknowledgment number?</p>
<details class="success">
<summary>Answer 1</summary>
<p>1)  Seq 90 发出，下一个是 Seq 110 ，则第一段数据量为 <span class="arithmatex">\(110 - 90 = 20\)</span> 字节。</p>
<p>2)  如果第一段丢了，第二段到了，接收方回的 ACK 号依然是 <strong>90</strong>（表示仍在等 90 ）。</p>
</details>
</div>
<div class="admonition example">
<p class="admonition-title">Question 2 - Estimated RTT</p>
<p>If the TCP round-trip time, RTT, is currently <span class="arithmatex">\(30\)</span> msec and the following acknowledgements come in after <span class="arithmatex">\(26\)</span>, <span class="arithmatex">\(32\)</span>, and <span class="arithmatex">\(24\)</span> msec, respectively, what is the new RTT estimate using the Jacobson algorithm? Use <span class="arithmatex">\(\alpha = 0.9\)</span>.</p>
<details class="success">
<summary>Answer 2</summary>
<p>根据给出的多个 R 样本值和 <span class="arithmatex">\(\alpha=0.9\)</span> 连续迭代计算 SRTT。</p>
<ul>
<li>
<p>第一次计算（ 26 ）</p>
<div class="arithmatex">\[EstimatedRTT = 0.9 \times 30 + 0.1 \times 26\]</div>
<div class="arithmatex">\[EstimatedRTT = 27 + 2.6\]</div>
<div class="arithmatex">\[EstimatedRTT = 29.6 \text{ ms}\]</div>
</li>
<li>
<p>第一次计算（ 32 ）</p>
<div class="arithmatex">\[EstimatedRTT = 0.9 \times 29.6 + 0.1 \times 32\]</div>
<div class="arithmatex">\[EstimatedRTT = 26.64 + 3.2\]</div>
<div class="arithmatex">\[EstimatedRTT = 29.84 \text{ ms}\]</div>
</li>
<li>
<p>第三次计算（ 24 ）</p>
<div class="arithmatex">\[EstimatedRTT = 0.9 \times 29.84 + 0.1 \times 24\]</div>
<div class="arithmatex">\[EstimatedRTT = 26.856 + 2.4\]</div>
<div class="arithmatex">\[EstimatedRTT = 29.256 \text{ ms}\]</div>
</li>
</ul>
<p>新的 RTT 估计值约为 <strong>29.256 ms</strong>。</p>
</details>
</div>
<h3 id="tcp_2">TCP 拥塞控制<a class="headerlink" href="#tcp_2" title="Permanent link">&para;</a></h3>
<p>TCP Tahoe 和 TCP Reno 是 TCP 拥塞控制的两个经典版本。它们的核心区别在于如何处理丢包。</p>
<p>为了控制发送速率， TCP 维护两个核心变量：
1.  <strong><code>cwnd</code> (Congestion Window)</strong>：拥塞窗口，决定了发送方一次能发多少数据。
2.  <strong><code>Threshold</code> (ssthresh)</strong>：慢启动阈值，是“慢启动”阶段和“拥塞避免”阶段的分界线。</p>
<p>发送速率大约等于：<span class="arithmatex">\(\text{Rate} \approx \frac{\text{cwnd}}{\text{RTT}}\)</span></p>
<h4 id="_12">两个共同的基础阶段<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p>无论是 Tahoe 还是 Reno ，在网络正常（没丢包）的时候，行为是一样的：</p>
<ul>
<li>
<p>慢启动 (Slow Start, SS)</p>
<ul>
<li><strong>触发条件</strong>：<code>cwnd &lt; Threshold</code></li>
<li><strong>增长方式</strong>：<strong>指数增长</strong> (Exponential Increase)。</li>
<li><strong>如何改变速率</strong>：每收到一个 ACK ，<code>cwnd</code> 就增加 1 个 MSS （最大报文段长度）。<ul>
<li><em>效果</em>：经过一个 RTT （往返时间），窗口大小翻倍（ 1 -&gt; 2 -&gt; 4 -&gt; 8...）。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>拥塞避免 (Congestion Avoidance, CA)</p>
<ul>
<li><strong>触发条件</strong>：<code>cwnd &gt;= Threshold</code></li>
<li><strong>增长方式</strong>：<strong>加性增 / 线性增长</strong> (Additive Increase)。</li>
<li><strong>如何改变速率</strong>：每收到一个 ACK ，<code>cwnd</code> 增加 <code>MSS * (MSS / cwnd)</code>。<ul>
<li><em>效果</em>：经过一个完整的 RTT （收到了这一轮发出的所有包的 ACK ），窗口大小只增加 <strong>1 个 MSS</strong>。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="_13">丢包处理<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<p>丢包有两种表现形式：
1.  <strong>超时 (Timeout)</strong>：发送方等了很久都没收到确认，计时器响了（情况严重，说明网络可能断了或极其拥堵）。
2.  <strong>3 个冗余 ACK (3 Duplicate ACKs)</strong>：发送方连续收到 3 个对同一个包的确认（说明虽然有包丢了，但后续的包接收方收到了，网络还能通，情况没那么严重）。</p>
<ul>
<li>
<p>TCP Tahoe</p>
<p>Tahoe 的策略非常激进，被称为<strong>“Hard Reset”</strong>。无论发生什么类型的丢包（超时 还是 3 个冗余 ACK ），它都一视同仁：</p>
<ul>
<li><strong>动作</strong>：<ol>
<li><strong><code>Threshold</code> 设为当前 <code>cwnd</code> 的一半</strong>。</li>
<li><strong><code>cwnd</code> 直接重置为 1 MSS</strong>。</li>
<li><strong>重新进入慢启动 (Slow Start)</strong>。</li>
</ol>
</li>
<li><strong>缺点</strong>：一旦丢包，发送速率瞬间降到最低，网络利用率波动很大。</li>
</ul>
</li>
<li>
<p>TCP Reno</p>
<p>Reno 改进了 Tahoe ，引入了<strong>快恢复 (Fast Recovery)</strong> 机制。它根据丢包类型采取不同策略：</p>
<ul>
<li>
<p><strong>情况 A ：发生超时 (Timeout)</strong> —— <strong>和 Tahoe 一样</strong>（因为超时意味着网络可能瘫痪了）。</p>
<ul>
<li><code>Threshold = cwnd / 2</code></li>
<li><code>cwnd = 1</code></li>
<li>进入慢启动。</li>
</ul>
</li>
<li>
<p><strong>情况 B ：收到 3 个冗余 ACK</strong> —— <strong>Reno 的改进点 (Soft Landing)</strong>。</p>
<ul>
<li><strong>逻辑</strong>：既然能收到 3 个 ACK ，说明网络还是通的，没必要重置为 1。</li>
<li><strong>动作 (快重传 + 快恢复)</strong>：<ol>
<li>立即重传丢失的那个包（快重传）。</li>
<li><strong><code>Threshold</code> 设为当前 <code>cwnd</code> 的一半</strong>。</li>
<li><strong><code>cwnd</code> 设为新的 <code>Threshold</code></strong> (即减半，而不是归 1)。</li>
<li><strong>跳过慢启动，直接进入拥塞避免 (Congestion Avoidance)</strong> 阶段（线性增长）。</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">对比</p>
<p><img alt="Reno-Tahoe" src="/Notes/images/Network/Reno-Tahoe.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>蓝色线 (TCP Tahoe)</strong>：<ul>
<li>当在 <code>cwnd=12</code> 处发生“3 个冗余 ACK”时，它直接掉到了底（<code>cwnd=1</code>），然后重新慢启动。</li>
</ul>
</li>
<li><strong>黑色线 (TCP Reno)</strong>：<ul>
<li>当在 <code>cwnd=12</code> 处发生“3 个冗余 ACK”时，它没有掉到底。</li>
<li>它将 <code>Threshold</code> 设为 6 (12 的一半)。</li>
<li>它将 <code>cwnd</code> 也设为 6。</li>
<li>然后从 6 开始线性增长 (6 -&gt; 7 -&gt; 8...)。这就是著名的<strong>“锯齿状” (Sawtooth)</strong> 曲线。</li>
</ul>
</li>
</ul>
</div>
<h4 id="_14">改变发送速率的数学公式<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>如何通过 ACK 来调整 <code>cwnd</code>（即调整速率）？</p>
<ol>
<li>
<p><strong>线性增长 (拥塞避免)</strong>：</p>
<ul>
<li>目标：每经过 1 个 RTT ，<code>cwnd</code> + 1。</li>
<li>
<p>实现：每收到 1 个 ACK ：</p>
<div class="arithmatex">\[cwnd = cwnd + MSS \times \left( \frac{MSS}{cwnd} \right)\]</div>
</li>
</ul>
</li>
<li>
<p><strong>指数增长 (慢启动)</strong>：</p>
<ul>
<li>目标：每经过 1 个 RTT ，<code>cwnd</code> 翻倍。</li>
<li>
<p>实现：每收到 1 个 ACK ：</p>
<div class="arithmatex">\[cwnd = cwnd + MSS\]</div>
</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: left;">事件</th>
<th style="text-align: left;">TCP Tahoe (旧)</th>
<th style="text-align: left;">TCP Reno (新)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>超时 (Timeout)</strong></td>
<td style="text-align: left;">Threshold=cwnd/2, cwnd=1, 进入 SS</td>
<td style="text-align: left;">同 Tahoe</td>
</tr>
<tr>
<td style="text-align: left;"><strong>3 个冗余 ACK (3 dup ACKs)</strong></td>
<td style="text-align: left;">同 Timeout 处理</td>
<td style="text-align: left;"><strong>Threshold=cwnd/2, cwnd=Threshold, 进入 CA</strong> (这是快恢复)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_15">第七章：应用层<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<h3 id="dns">DNS (域名系统)<a class="headerlink" href="#dns" title="Permanent link">&para;</a></h3>
<ul>
<li>DNS 的作用是将人类可读的域名转换为机器识别的 IP 地址。</li>
<li><strong>域名空间 (Name space)</strong><ul>
<li>结构：层次树状结构。</li>
<li>层级：从根开始，向下分为：<ul>
<li>Generic (通用顶级域名)：如 com, edu, gov, mil, org, net 等。</li>
<li>Countries (国家顶级域名)：如 jp, us, nl 等。</li>
<li>二级域名：如 yale, google 等。</li>
</ul>
</li>
</ul>
</li>
<li><strong>资源记录</strong>：每个域，无论是单个主机还是顶级域，都可以有一组与其关联的资源记录。一个资源记录是五元组 <code>(Domain_name, Time_to_live, Class, Type, Value)</code> 。一些重要的资源类型：</li>
</ul>
<p><img alt="DNS-resource" src="/Notes/images/Network/DNS-resource.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>查询方式</strong><ul>
<li>递归查询：主机向本地服务器请求，本地服务器“包办到底”，直到拿回最终结果。</li>
<li>迭代查询：本地服务器依次询问根服务器、顶级服务器、权威服务器，每个服务器只返回“下一个该找谁”的线索（ Partial answer ）。</li>
</ul>
</li>
</ul>
<h3 id="_16">电子邮件<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>架构与协议</strong><ul>
<li>组件：用户代理、邮件传输代理 (MTA)。</li>
<li>发送协议 (SMTP)：用于邮件提交和邮件传输。</li>
<li>读取协议 (POP3 / IMAP)：用于最终投递到接收者。</li>
</ul>
</li>
</ul>
<p><img alt="Email-arch" src="/Notes/images/Network/Email-arch.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>邮件格式</strong></li>
<li>RFC 5322 ：基本的互联网邮件格式，区分信封字段 (Envelope) 和首部字段(Header)，使用 ASCII 文本。</li>
<li>MIME (多用途互联网邮件扩展)：扩展了邮件功能，支持非 ASCII 数据（图片、音频、视频等）。<ul>
<li>常见内容类型： text (plain, html), image (gif, jpeg), audio, video, application (zip, pdf), multipart (多种混合)。</li>
</ul>
</li>
<li><strong>Base 64 编码</strong><ul>
<li>原理：将每 24 比特数据分为四组，每组 6 比特。</li>
<li>编码表：<code>A-Z</code> 代表 0-25 ，<code>a-z</code> 代表 26-51 ，<code>0-9</code> 代表 52-61 ，最后用 <code>+</code> (62) 和 <code>/</code> (63)。</li>
<li>填充：末尾不足 24 位时，使用 <code>==</code> 或 <code>=</code> (最后一组只有 8 或 16 比特) 进行填充。此时仍然遵循 6 位一组的原则，不足位补 0 后再填充。</li>
<li>忽略 CR 和 LF 。</li>
</ul>
</li>
</ul>
<h3 id="www">WWW<a class="headerlink" href="#www" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>基础架构</strong><ul>
<li>URL (统一资源定位符)：格式为 协议(http) + DNS 名称 + 路径名。</li>
</ul>
</li>
</ul>
<p><img alt="www-protocol" src="/Notes/images/Network/www-protocol.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>浏览器与服务器</strong>：<ul>
<li>浏览器处理非 HTML 类型：使用 插件 (Plug-ins) 或 辅助程序 (Helper applications)。</li>
<li>服务器运行步骤：接受 TCP 连接；获取请求文件名；从磁盘读取文件；发回客户端；释放 TCP 连接。</li>
<li>多线程 Web 服务器架构：包含前端、处理模块线程、缓存和磁盘。</li>
</ul>
</li>
<li><strong>Cookies</strong>：包含 Domain, Path, Content, Expires, Secure 五个字段。</li>
<li>
<p><strong>静态与动态网页</strong></p>
<ul>
<li>静态 (HTML)：固定标签，如 <code>&lt;html&gt;</code>, <code>&lt;body&gt;</code>, <code>&lt;a&gt;</code>, <code>&lt;img&gt;</code> 等。</li>
<li>
<p>动态 (AJAX)：异步 JavaScript 和 XML。包含 5 项核心技术：</p>
<p>HTML/CSS （以页面形式呈现信息）； XML ； DOM （修改页面局部内容）；异步检索数据； JavaScript （绑定所有功能）。</p>
</li>
<li>
<p>服务端动态技术： PHP, ASP, JSP, CGI 脚本。</p>
</li>
</ul>
</li>
</ul>
<h3 id="http">HTTP<a class="headerlink" href="#http" title="Permanent link">&para;</a></h3>
<h4 id="1-http">(1) HTTP 方法<a class="headerlink" href="#1-http" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>GET</strong>：请求读取网页。</li>
<li><strong>HEAD</strong>：请求网页首部信息。</li>
<li><strong>PUT</strong>：存储一个网页。</li>
<li><strong>POST</strong>：在资源后附加内容。</li>
<li><strong>DELETE</strong>：删除网页。</li>
<li><strong>TRACE</strong>：回显收到的请求。</li>
<li><strong>CONNECT</strong>：保留备用。</li>
<li><strong>OPTIONS</strong>：查询某些选项。</li>
</ul>
<h4 id="2_1">(2) 状态码<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>1xx</strong>：信息性（ 100 = 服务器同意处理）。</li>
<li><strong>2xx</strong>：成功（ 200 = 成功， 204 = 无内容）。</li>
<li><strong>3xx</strong>：重定向（ 301 = 永久移动， 304 = 缓存有效）。</li>
<li><strong>4xx</strong>：客户端错误（ 403 = 禁止访问， 404 = 未找到）。</li>
<li><strong>5xx</strong>：服务器错误（ 500 = 内部错误， 503 = 稍后重试）。</li>
</ul>
<h4 id="3-http">(3) HTTP 版本的演进<a class="headerlink" href="#3-http" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>HTTP 1.0</strong>：每请求一个对象都要建立/关闭一次 TCP 连接。</li>
<li><strong>HTTP 1.1</strong>：<ul>
<li><strong>持久连接 (Persistent connections)</strong>：一个 TCP 连接内可以发多个请求。</li>
<li><strong>流水线</strong>：不必等上一个响应回来就可以发下一个请求。</li>
</ul>
</li>
</ul>
<p><img alt="HTTP-1x" src="/Notes/images/Network/HTTP-1x.png" style="display: block; margin: 0 auto;" width="600" /></p>
<ul>
<li><strong>HTTP/2</strong>：<ul>
<li><strong>二进制格式</strong>、<strong>优先级处理</strong>。</li>
<li><strong>首部压缩</strong>：减小开销。</li>
<li><strong>服务器推送 (Server push)</strong>：服务器主动把客户端需要的资源推过去。</li>
</ul>
</li>
<li><strong>HTTP/3</strong>：<ul>
<li><strong>不再依赖 TCP</strong>。</li>
<li>基于 <strong>QUIC</strong> (运行在 <strong>UDP</strong> 之上的协议)。</li>
<li>在用户空间实现拥塞控制，支持多路复用。</li>
</ul>
</li>
</ul>







  
  






                

  <!-- Giscus 评论区开始 -->
  <h2 id="__comments">评论</h2>
  <script src="https://giscus.app/client.js"
        data-repo="Undtree/Notes"
        data-repo-id="R_kgDOMeUFpA"
        data-category="Announcements"
        data-category-id="DIC_kwDOMeUFpM4C0y5E"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
  </script>
  <!-- Giscus 评论区结束 -->

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.follow", "content.code.copy", "search.share", "search.suggest", "search.highlight", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.tonycrane.cc/utils/katex.min.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>